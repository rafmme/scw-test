(this.webpackJsonpms=this.webpackJsonpms||[]).push([[0],{64:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),c=r(31),s=r.n(c),a=r(66),o=r(17),u=r(2),d=r(9),l=r.n(d),h=r(4),j=r(10),p=r(18),b=r(0),m=function(e){var t=e.sku,r=e.name,n=e.price,i=e.size,c=e.height,s=e.weight,a=e.width,o=e.length,u=e.onCheck;return Object(b.jsx)("div",{className:"col-md-3",children:Object(b.jsx)("div",{className:"card mb-3 shadow-sm",children:Object(b.jsxs)("div",{className:"product",children:[Object(b.jsx)("input",{type:"checkbox",className:"delete-checkbox",onChange:function(e){return u(e,t)}}),Object(b.jsxs)("div",{className:"flex-column prod-info",children:[Object(b.jsx)("p",{children:t}),Object(b.jsx)("p",{children:r}),Object(b.jsx)("p",{children:"".concat(n," $")}),i&&Object(b.jsxs)("p",{children:["Size: ","".concat(i)," MB"]}),s&&Object(b.jsxs)("p",{children:["Weight: ","".concat(s)," KG"]}),c&&a&&o&&Object(b.jsxs)("p",{children:["Dimension: ","".concat(c,"x").concat(a,"x").concat(o)]})]})]})})})},x=function(e){var t=e.text,r="success"===e.type?"success-text":"err-text";return Object(b.jsx)("div",{id:"notification",className:"input form-group ".concat(r),children:Object(b.jsx)("p",{children:t})})},O=r(13),v=r(14),f=r(32),g=r.n(f),w=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"makeHTTPRequest",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var r,n,i,c,s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,n=t.url,i=t.params,c=t.data,s=t.headers,e.prev=1,e.next=4,g()({method:r,url:n,params:i,data:c,headers:s});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"validateProductInput",value:function(e){var t=e.sku,r=e.price,n=e.name,i=e.width,c=e.height,s=e.length,a=e.size,o=e.weight,u=e.productType,d=[];return""===t&&d.push("sku"),(!Number.parseFloat(r)||r<1)&&d.push("price"),""===n&&d.push("name"),"Furniture"===u&&(!Number.parseFloat(i)||i<1)&&d.push("width"),"Furniture"===u&&(!Number.parseFloat(c)||c<1)&&d.push("height"),"Book"===u&&(!Number.parseFloat(o)||o<1)&&d.push("weight"),"Furniture"===u&&(!Number.parseFloat(s)||s<1)&&d.push("length"),"DVD"===u&&(!Number.parseFloat(a)||a<1)&&d.push("size"),"#"!==u&&""!==u||d.push("productType"),d}}]),e}(),N=function(){function e(){Object(O.a)(this,e),this.url=void 0,this.method=void 0,this.params=void 0,this.headers=void 0,this.data=void 0,this.url="",this.params={},this.method="",this.data={},this.headers={}}return Object(v.a)(e,[{key:"send",value:function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.makeHTTPRequest(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y=function(){function e(){Object(O.a)(this,e),this.request=void 0,this.request=new N}return Object(v.a)(e,[{key:"withURL",value:function(e){return this.request.url=e,this}},{key:"method",value:function(e){return this.request.method=e,this}},{key:"headers",value:function(e){return this.request.headers=e,this}},{key:"queryParams",value:function(e){return this.request.params=e,this}},{key:"data",value:function(e){return this.request.data=e,this}},{key:"build",value:function(){return this.request}}]),e}(),k=function(){var e=Object(u.f)(),t=Object(n.useState)({results:[],executeDeletion:!1,listOfProductsForDeletion:[]}),r=Object(p.a)(t,2),i=r[0],c=r[1],s=i.executeDeletion,a=i.results,o=i.listOfProductsForDeletion;Object(n.useEffect)((function(){function t(e,t){return r.apply(this,arguments)}function r(){return(r=Object(j.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new y).withURL(t).method(r).queryParams(void 0).headers(void 0).data(void 0).build().send();case 2:n=e.sent,c(Object(h.a)(Object(h.a)({},i),{},{executeDeletion:"get"!==r.toLowerCase()&&s,listOfProductsForDeletion:"get"===r.toLowerCase()?[]:o,results:"get"===r.toLowerCase()&&(null===n||void 0===n?void 0:n.products)||a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s&&o.length>0&&(o.forEach((function(e){t("/products/".concat(e),"DELETE")})),e.go(0)),t("/products","GET"),function(){!1}}),[s]);var d=function(e,t){if(e.preventDefault(),e.target.checked)o.push(t),c(Object(h.a)(Object(h.a)({},i),{},{executeDeletion:!1,listOfProductsForDeletion:o}));else{var r=o.filter((function(e){return t!==e}));c(Object(h.a)(Object(h.a)({},i),{},{executeDeletion:!1,listOfProductsForDeletion:r}))}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("header",{id:"header",children:[Object(b.jsxs)("div",{id:"title-div",children:[Object(b.jsx)("h2",{children:"Product List"}),Object(b.jsxs)("div",{id:"action-btn",className:"flex-column",children:[Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(t){t.preventDefault(),e.push("/add-product")},children:"ADD"}),Object(b.jsx)("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),o.length<1||c(Object(h.a)(Object(h.a)({},i),{},{executeDeletion:!0}))},children:"MASS DELETE"})]})]}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("main",{id:"main-content",children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[a.length<1&&Object(b.jsx)("h3",{style:{textAlign:"center"},children:"No Products added yet!"}),a.map((function(e,t){return Object(b.jsx)(m,{onCheck:d,sku:e.sku,name:e.name,price:e.price,size:e.size,height:e.height,weight:e.weight,length:e.length,width:e.width},t)}))]})})})})]})},F=r(11),D=function(){var e=Object(u.f)(),t={productType:"#",sku:"",price:void 0,name:"",width:void 0,height:void 0,length:void 0,size:void 0,weight:void 0,hasResponseError:!1,inputError:[],response:{error:"",errors:{},message:""},save:!1},r=Object(n.useState)(t),i=Object(p.a)(r,2),c=i[0],s=i[1],a=c.productType,o=c.hasResponseError,d=c.inputError,m=c.save,O=c.sku,v=c.size,f=c.weight,g=c.width,N=c.length,k=c.height,D=c.response;Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new y).withURL("/products").method("post").queryParams(void 0).headers({"content-type":"application/json"}).data(c).build().send();case 2:t=e.sent,s(Object(h.a)(Object(h.a)({},c),{},{save:!1,hasResponseError:(null===t||void 0===t?void 0:t.error)||(null===t||void 0===t?void 0:t.errors),response:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return m&&function(){e.apply(this,arguments)}(),function(){!1}}),[m]);var C=function(e){var t;s(Object(h.a)(Object(h.a)({},c),{},(t={},Object(F.a)(t,e.target.id,e.target.value),Object(F.a)(t,"inputError",[]),Object(F.a)(t,"hasResponseError",!1),Object(F.a)(t,"save",!1),Object(F.a)(t,"response",{error:"",errors:{},message:""}),t)))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("header",{id:"header",children:[Object(b.jsxs)("div",{id:"title-div",children:[Object(b.jsx)("h2",{children:"Product Add"}),Object(b.jsxs)("div",{id:"action-btn",className:"flex-column",children:[Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(e){e.preventDefault();var t=w.validateProductInput(c);t.length>=1?s(Object(h.a)(Object(h.a)({},c),{},{inputError:t,hasResponseError:!1,save:!1,response:{error:"",errors:{},message:""}})):s(Object(h.a)(Object(h.a)({},c),{},{size:"DVD"!==a?void 0:v,weight:"Book"!==a?void 0:f,height:"Furniture"!==a?void 0:k,width:"Furniture"!==a?void 0:g,length:"Furniture"!==a?void 0:N,save:!0}))},children:"Save"}),Object(b.jsx)("button",{className:"btn btn-outline-danger",onClick:function(t){t.preventDefault(),e.push("/")},children:"Cancel"})]})]}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("main",{id:"main-content",children:Object(b.jsx)("form",{id:"product-form",action:"",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"flex-column form-input-group",children:[!D&&Object(b.jsx)(x,{text:"\u274c Error! Unable to add new product with SKU '".concat(O,"'."),type:"err"}),!o&&(null===D||void 0===D?void 0:D.message)&&""!==(null===D||void 0===D?void 0:D.message)&&Object(b.jsx)(x,{text:"\u2705 ".concat(null===D||void 0===D?void 0:D.message),type:"success"}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"sku",children:"SKU "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(d.includes("sku")?" err":""),onChange:C,type:"text",placeholder:" #sku",name:"sku",id:"sku",required:!0}),Object(b.jsx)("p",{className:"form-text"+(d.includes("sku")?" err-text":" hide"),children:"*Please, provide SKU*"})]})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(d.includes("name")?" err":""),onChange:C,type:"text",placeholder:" #name",name:"name",id:"name",required:!0}),Object(b.jsx)("p",{className:"form-text"+(d.includes("name")?" err-text":" hide"),children:"*Please, provide Name*"})]})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"price",children:"Price ($) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(d.includes("price")?" err":""),onChange:C,min:0,type:"number",placeholder:" #price",name:"price",id:"price",required:!0}),Object(b.jsx)("p",{className:"form-text"+(d.includes("price")?" err-text":" hide"),children:"*Please, provide Price (Number type)*"})]})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"productType",children:"Type Switcher "}),Object(b.jsxs)("select",{onChange:C,className:"form-control"+(d.includes("productType")?" err":""),name:"productType",id:"productType",required:!0,children:[Object(b.jsx)("option",{value:"#",children:"Choose Product Type"}),Object(b.jsx)("option",{value:"DVD",id:"DVD",children:"DVD"}),Object(b.jsx)("option",{value:"Furniture",id:"Furniture",children:"Furniture"}),Object(b.jsx)("option",{value:"Book",id:"Book",children:"Book"})]})]}),"DVD"===a&&Object(b.jsx)("div",{id:"dvd-text",children:Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"size",children:"Size (MB) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(d.includes("size")?" err":""),onChange:C,min:0,type:"number",placeholder:" #size",name:"size",id:"size",required:!0}),Object(b.jsx)("p",{className:"form-text"+(d.includes("size")?" err-text":""),children:"*Please, provide size (Number type)*"})]})]})}),"Book"===a&&Object(b.jsx)("div",{id:"book-text",children:Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"weight",children:"Weight (KG) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(d.includes("weight")?" err":""),onChange:C,min:0,type:"number",placeholder:" #weight",name:"weight",id:"weight",required:!0}),Object(b.jsx)("p",{className:"form-text"+(d.includes("weight")?" err-text":""),children:"*Please, provide weight (Number type)*"})]})]})}),"Furniture"===a&&Object(b.jsxs)("div",{id:"furniture-text",children:[Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"height",children:"Height (CM) "}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{className:"form-control"+(d.includes("height")?" err":""),onChange:C,min:0,type:"number",placeholder:" #height",name:"height",id:"height",required:!0})})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"width",children:"Width (CM) "}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{className:"form-control"+(d.includes("width")?" err":""),onChange:C,min:0,type:"number",placeholder:" #width",name:"width",id:"width",required:!0})})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"length",children:"Length (CM) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(d.includes("length")?" err":""),onChange:C,min:0,type:"number",placeholder:" #length",name:"length",id:"length",required:!0}),Object(b.jsx)("p",{className:"form-text"+(d.includes("length")||d.includes("height")||d.includes("width")?" err-text":""),children:"*Please, provide dimensions in HxWxL format. (Number type)*"})]})]})]})]})})})})]})},C=function(){return Object(b.jsx)(o.a,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,children:Object(b.jsx)(k,{})}),Object(b.jsx)(u.a,{path:"/add-product",exact:!0,children:Object(b.jsx)(D,{})})]})})},P=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,67)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),i(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(a.a,{children:Object(b.jsx)(C,{})})}),document.getElementById("app-root")),P()}},[[64,1,2]]]);
//# sourceMappingURL=main.abf73d8c.chunk.js.map