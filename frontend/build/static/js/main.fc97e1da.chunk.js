(this.webpackJsonpms=this.webpackJsonpms||[]).push([[0],{64:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(31),i=r.n(s),a=r(66),o=r(17),u=r(2),l=r(9),d=r.n(l),h=r(4),j=r(10),p=r(18),b=r(0),m=function(e){var t=e.sku,r=e.name,n=e.price,c=e.size,s=e.height,i=e.weight,a=e.width,o=e.length,u=e.onCheck;return console.log(a,s,o),Object(b.jsx)("div",{className:"col-md-3",children:Object(b.jsx)("div",{className:"card mb-3 shadow-sm",children:Object(b.jsxs)("div",{className:"product",children:[Object(b.jsx)("input",{type:"checkbox",className:"delete-checkbox",onChange:function(e){return u(e,t)}}),Object(b.jsxs)("div",{className:"flex-column prod-info",children:[Object(b.jsx)("p",{children:t}),Object(b.jsx)("p",{children:r}),Object(b.jsx)("p",{children:"".concat(n,"$")}),c&&Object(b.jsxs)("p",{children:["Size: ","".concat(c)," MB"]}),i&&Object(b.jsxs)("p",{children:["Weight: ","".concat(i)," KG"]}),s&&a&&o&&Object(b.jsxs)("p",{children:["Dimensions: ","".concat(s,"x").concat(a,"x").concat(o)," KG"]})]})]})})})},x=function(e){var t=e.text,r="success"===e.type?"success-text":"err-text";return Object(b.jsx)("div",{id:"notification",className:"input form-group ".concat(r),children:Object(b.jsx)("p",{children:t})})},O=r(13),v=r(14),f=r(32),g=r.n(f),N=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"makeHTTPRequest",value:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n,c,s,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,n=t.url,c=t.params,s=t.data,i=t.headers,e.prev=1,e.next=4,g()({method:r,url:n,params:c,data:s,headers:i});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"validateProductInput",value:function(e){var t=e.sku,r=e.price,n=e.name,c=e.width,s=e.height,i=e.length,a=e.size,o=e.weight,u=e.productType,l=[];return""===t&&l.push("sku"),(!Number.parseFloat(r)||r<1)&&l.push("price"),""===n&&l.push("name"),"Furniture"===u&&(!Number.parseFloat(c)||c<1)&&l.push("width"),"Furniture"===u&&(!Number.parseFloat(s)||s<1)&&l.push("height"),"Book"===u&&(!Number.parseFloat(o)||o<1)&&l.push("weight"),"Furniture"===u&&(!Number.parseFloat(i)||i<1)&&l.push("length"),"DVD"===u&&(!Number.parseFloat(a)||a<1)&&l.push("size"),"#"!==u&&""!==u||l.push("productType"),l}}]),e}(),w=function(){function e(){Object(O.a)(this,e),this.url=void 0,this.method=void 0,this.params=void 0,this.headers=void 0,this.data=void 0,this.url="",this.params={},this.method="",this.data={},this.headers={}}return Object(v.a)(e,[{key:"send",value:function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.makeHTTPRequest(this);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),y=function(){function e(){Object(O.a)(this,e),this.request=void 0,this.request=new w}return Object(v.a)(e,[{key:"withURL",value:function(e){return this.request.url=e,this}},{key:"method",value:function(e){return this.request.method=e,this}},{key:"headers",value:function(e){return this.request.headers=e,this}},{key:"queryParams",value:function(e){return this.request.params=e,this}},{key:"data",value:function(e){return this.request.data=e,this}},{key:"build",value:function(){return this.request}}]),e}(),k=function(){var e=Object(u.f)(),t=Object(n.useState)({results:[],executeDeletion:!1,listOfProductsForDeletion:[]}),r=Object(p.a)(t,2),c=r[0],s=r[1],i=c.executeDeletion,a=c.results,o=c.listOfProductsForDeletion;Object(n.useEffect)((function(){function e(e,r){return t.apply(this,arguments)}function t(){return(t=Object(j.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new y).withURL(t).method(r).queryParams(void 0).headers(void 0).data(void 0).build().send();case 2:n=e.sent,s(Object(h.a)(Object(h.a)({},c),{},{executeDeletion:"get"!==r.toLowerCase()&&i,listOfProductsForDeletion:"get"===r.toLowerCase()?[]:o,results:"get"===r.toLowerCase()?null===n||void 0===n?void 0:n.products:a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i&&o.length>0&&o.forEach((function(t){e("http://localhost:9000/products/".concat(t),"DELETE")})),e("http://localhost:9000/products","GET"),function(){!1}}),[i]);var l=function(e,t){if(e.preventDefault(),e.target.checked)o.push(t),s(Object(h.a)(Object(h.a)({},c),{},{executeDeletion:!1,listOfProductsForDeletion:o}));else{var r=o.filter((function(e){return t!==e}));s(Object(h.a)(Object(h.a)({},c),{},{executeDeletion:!1,listOfProductsForDeletion:r}))}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("header",{id:"header",children:[Object(b.jsxs)("div",{id:"title-div",children:[Object(b.jsx)("h2",{children:"Product List"}),Object(b.jsxs)("div",{id:"action-btn",className:"flex-column",children:[Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(t){t.preventDefault(),e.push("/add-product")},children:"ADD"}),Object(b.jsx)("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),o.length<1||s(Object(h.a)(Object(h.a)({},c),{},{executeDeletion:!0}))},children:"MASS DELETE"})]})]}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("main",{id:"main-content",children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[a.length<1&&Object(b.jsx)("h3",{style:{textAlign:"center"},children:"No Products added yet!"}),a.map((function(e,t){return Object(b.jsx)(m,{onCheck:l,sku:e.sku,name:e.name,price:e.price,size:e.size,height:e.height,weight:e.weight,length:e.length},t)}))]})})})})]})},F=r(11),D=function(){var e=Object(u.f)(),t={productType:"#",sku:"",price:void 0,name:"",width:void 0,height:void 0,length:void 0,size:void 0,weight:void 0,hasResponseError:!1,inputError:[],response:{error:"",errors:{},message:""},save:!1},r=Object(n.useState)(t),c=Object(p.a)(r,2),s=c[0],i=c[1],a=s.productType,o=s.hasResponseError,l=s.inputError,m=s.save,O=s.sku,v=s.size,f=s.weight,g=s.width,w=s.length,k=s.height,D=s.response;Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new y).withURL("http://localhost:9000/products").method("post").queryParams(void 0).headers({"content-type":"application/json"}).data(s).build().send();case 2:t=e.sent,i(Object(h.a)(Object(h.a)({},s),{},{save:!1,hasResponseError:(null===t||void 0===t?void 0:t.error)||(null===t||void 0===t?void 0:t.errors),response:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return m&&function(){e.apply(this,arguments)}(),function(){!1}}),[m]);var C=function(e){var t;i(Object(h.a)(Object(h.a)({},s),{},(t={},Object(F.a)(t,e.target.id,e.target.value),Object(F.a)(t,"inputError",[]),Object(F.a)(t,"hasResponseError",!1),Object(F.a)(t,"save",!1),Object(F.a)(t,"response",{error:"",errors:{},message:""}),t)))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("header",{id:"header",children:[Object(b.jsxs)("div",{id:"title-div",children:[Object(b.jsx)("h2",{children:"Product Add"}),Object(b.jsxs)("div",{id:"action-btn",className:"flex-column",children:[Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(e){e.preventDefault();var t=N.validateProductInput(s);t.length>=1?i(Object(h.a)(Object(h.a)({},s),{},{inputError:t,hasResponseError:!1,save:!1,response:{error:"",errors:{},message:""}})):i(Object(h.a)(Object(h.a)({},s),{},{size:"DVD"!==a?void 0:v,weight:"Book"!==a?void 0:f,height:"Furniture"!==a?void 0:k,width:"Furniture"!==a?void 0:g,length:"Furniture"!==a?void 0:w,save:!0}))},children:"Save"}),Object(b.jsx)("button",{className:"btn btn-outline-danger",onClick:function(t){t.preventDefault(),e.push("/")},children:"Cancel"})]})]}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("main",{id:"main-content",children:Object(b.jsx)("form",{id:"product-form",action:"",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"flex-column form-input-group",children:[!D&&Object(b.jsx)(x,{text:"\u274c Error! Unable to add new product with SKU '".concat(O,"'."),type:"err"}),!o&&(null===D||void 0===D?void 0:D.message)&&""!==(null===D||void 0===D?void 0:D.message)&&Object(b.jsx)(x,{text:"\u2705 ".concat(null===D||void 0===D?void 0:D.message),type:"success"}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"sku",children:"SKU "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(l.includes("sku")?" err":""),onChange:C,type:"text",placeholder:" #sku",name:"sku",id:"sku",required:!0}),Object(b.jsx)("p",{className:"form-text"+(l.includes("sku")?" err-text":" hide"),children:"*Please, provide SKU*"})]})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(l.includes("name")?" err":""),onChange:C,type:"text",placeholder:" #name",name:"name",id:"name",required:!0}),Object(b.jsx)("p",{className:"form-text"+(l.includes("name")?" err-text":" hide"),children:"*Please, provide Name*"})]})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"price",children:"Price ($) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(l.includes("price")?" err":""),onChange:C,min:0,type:"number",placeholder:" #price",name:"price",id:"price",required:!0}),Object(b.jsx)("p",{className:"form-text"+(l.includes("price")?" err-text":" hide"),children:"*Please, provide Price (Number type)*"})]})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"productType",children:"Type Switcher "}),Object(b.jsxs)("select",{onChange:C,className:"form-control"+(l.includes("productType")?" err":""),name:"productType",id:"productType",required:!0,children:[Object(b.jsx)("option",{value:"#",children:"Choose Product Type"}),Object(b.jsx)("option",{value:"DVD",id:"DVD",children:"DVD"}),Object(b.jsx)("option",{value:"Furniture",id:"Furniture",children:"Furniture"}),Object(b.jsx)("option",{value:"Book",id:"Book",children:"Book"})]})]}),"DVD"===a&&Object(b.jsx)("div",{id:"dvd-text",children:Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"size",children:"Size (MB) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(l.includes("size")?" err":""),onChange:C,min:0,type:"number",placeholder:" #size",name:"size",id:"size",required:!0}),Object(b.jsx)("p",{className:"form-text"+(l.includes("size")?" err-text":""),children:"*Please, provide size (Number type)*"})]})]})}),"Book"===a&&Object(b.jsx)("div",{id:"book-text",children:Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"weight",children:"Weight (KG) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(l.includes("weight")?" err":""),onChange:C,min:0,type:"number",placeholder:" #weight",name:"weight",id:"weight",required:!0}),Object(b.jsx)("p",{className:"form-text"+(l.includes("weight")?" err-text":""),children:"*Please, provide weight (Number type)*"})]})]})}),"Furniture"===a&&Object(b.jsxs)("div",{id:"furniture-text",children:[Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"height",children:"Height (CM) "}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{className:"form-control"+(l.includes("height")?" err":""),onChange:C,min:0,type:"number",placeholder:" #height",name:"height",id:"height",required:!0})})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"width",children:"Width (CM) "}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{className:"form-control"+(l.includes("width")?" err":""),onChange:C,min:0,type:"number",placeholder:" #width",name:"width",id:"width",required:!0})})]}),Object(b.jsxs)("div",{className:"input form-group",children:[Object(b.jsx)("label",{htmlFor:"length",children:"Length (CM) "}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-control"+(l.includes("length")?" err":""),onChange:C,min:0,type:"number",placeholder:" #length",name:"length",id:"length",required:!0}),Object(b.jsx)("p",{className:"form-text"+(l.includes("length")||l.includes("height")||l.includes("width")?" err-text":""),children:"*Please, provide dimensions in HxWxL format. (Number type)*"})]})]})]})]})})})})]})},C=function(){return Object(b.jsx)(o.a,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",exact:!0,children:Object(b.jsx)(k,{})}),Object(b.jsx)(u.a,{path:"/add-product",exact:!0,children:Object(b.jsx)(D,{})})]})})},P=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,67)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(a.a,{children:Object(b.jsx)(C,{})})}),document.getElementById("app-root")),P()}},[[64,1,2]]]);
//# sourceMappingURL=main.fc97e1da.chunk.js.map